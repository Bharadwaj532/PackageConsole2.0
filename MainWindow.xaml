<Window x:Class="PackageConsole.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PackageConsole"
        mc:Ignorable="d"
        Title="Package Console 1.0" Height="800" Width="1200"
        Icon="Images/Optum2.ico"
>
    <Window.Resources>
        <!-- Basic Resources -->
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>

        <!-- Global TextBlock Style -->
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="White"/>
        </Style>

    </Window.Resources>

    <Grid Background="#FF0B084E" Margin="0,0,0,0">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="25*"/>
            <ColumnDefinition Width="97*"/>
            <ColumnDefinition Width="1078*"/>
        </Grid.ColumnDefinitions>

        <!-- Header Section -->
        <Grid Height="50" VerticalAlignment="Top" Background="#FF0B084E" Grid.ColumnSpan="3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <!-- Sidebar Toggle -->
                <ColumnDefinition Width="*"/>
                <!-- Title -->
                <ColumnDefinition Width="Auto"/>
                <!-- User Info + Logout -->
            </Grid.ColumnDefinitions>

            <!-- Sidebar Toggle -->
            <ToggleButton x:Name="SidebarToggle" Content="☰" Width="50" Height="50"
                  VerticalAlignment="Center" HorizontalAlignment="Left"
                  IsChecked="{Binding IsSidebarOpen}"
                  Background="{x:Null}" Foreground="#FFF7F6F6"
                  Grid.Column="0"/>

            <!-- Title -->
            <TextBlock Text="Package Console" Foreground="White" FontSize="36"
               VerticalAlignment="Center" HorizontalAlignment="Center"
               FontFamily="Times New Roman" FontWeight="Bold" FontStyle="Italic"
               Grid.Column="1"/>

            <!-- User Info + Logout -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right"
                VerticalAlignment="Center" Margin="10,0"
                Grid.Column="2">
                <TextBlock x:Name="UserDetails" Foreground="White" Margin="0,0,10,0"/>
                <Button Style="{StaticResource HeaderButtonStyle}" Command="{Binding LogoutCommand}">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="Logout" Margin="0,0,5,0" Height="26" Width="54"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Grid>

        <!-- Sidebar Toggle Button -->

        <!-- Sidebar Section -->
        <StackPanel x:Name="Sidebar" Background="#FF0B084E" Width="200" HorizontalAlignment="Left" Margin="0,50,0,0"
                    Visibility="{Binding IsSidebarOpen, Converter={StaticResource BoolToVis}}" Grid.ColumnSpan="3">
            <Button Tag="Home" Style="{StaticResource SidebarButtonStyle}" Command="{Binding HomeCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE80F;" Margin="10,0,10,0"/>
                    <TextBlock Text="Home"/>
                </StackPanel>
            </Button>
            <Button Tag="AddPackage" Style="{StaticResource SidebarButtonStyle}" Command="{Binding AddPackageCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE710;" Margin="10,0,10,0"/>
                    <TextBlock Text="Add New Request"/>
                </StackPanel>
            </Button>
            <Button Tag="CopyToolkit" Style="{StaticResource SidebarButtonStyle}" Command="{Binding CopyToolkitCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8C8;" Margin="10,0,10,0"/>
                    <TextBlock Text="Copy Toolkit"/>
                </StackPanel>
            </Button>
            <Button Tag="Testing" Style="{StaticResource SidebarButtonStyle}" Command="{Binding TestingCommand}"
                    Visibility="{Binding IsDevUser, Converter={StaticResource BoolToVis}}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE7B8;" Margin="10,0,10,0"/>
                    <TextBlock Text="Testing"/>
                </StackPanel>
            </Button>
            <Button Tag="PreviousApps" Style="{StaticResource SidebarButtonStyle}" Command="{Binding PreviousAppsCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE70F;" Margin="10,0,10,0"/>
                    <TextBlock Text="Edit Existing INI"/>
                </StackPanel>
            </Button>
            <Button Tag="PackagesDashboard" Style="{StaticResource SidebarButtonStyle}" Command="{Binding ViewPackagesCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8FD;" Margin="10,0,10,0"/>
                    <TextBlock Text="Packages Dashboard"/>
                </StackPanel>
            </Button>
            <Button Tag="Feedback" Style="{StaticResource SidebarButtonStyle}" Command="{Binding FeedbackCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE939;" Margin="10,0,10,0"/>
                    <TextBlock Text="Feedback"/>
                </StackPanel>
            </Button>
            <Button Tag="Help" Style="{StaticResource SidebarButtonStyle}" Command="{Binding HelpCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE897;" Margin="10,0,10,0"/>
                    <TextBlock Text="Help"/>
                </StackPanel>
            </Button>
            <Button Tag="IniConsole" Style="{StaticResource SidebarButtonStyle}" Command="{Binding IniConsoleCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE756;" Margin="10,0,10,0"/>
                    <TextBlock Text="INI Console"/>
                </StackPanel>
            </Button>
            <Button Tag="AdminSettings" Style="{StaticResource SidebarButtonStyle}" Command="{Binding AdminSettingsCommand}"
                    Visibility="{Binding IsAdminUser, Converter={StaticResource BoolToVis}}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE713;" Margin="10,0,10,0"/>
                    <TextBlock Text="Admin Settings"/>
                </StackPanel>
            </Button>
        </StackPanel>

        <!-- Main Content Area (MVVM - Frame host for Pages) -->
        <Frame x:Name="MainContentArea" Margin="78,100,0,50"
               NavigationUIVisibility="Hidden"
               Background="Transparent" Grid.Column="2"/>


        <!-- Marquee Text at the Bottom -->
        <Canvas Height="30" VerticalAlignment="Top" Background="#FFE03333" Margin="81,47,0,0" HorizontalAlignment="Left" Grid.Column="1" Width="0">
            <TextBlock x:Name="MarqueeText" Text="Welcome to Optum Package Studio! Stay tuned for updates." FontSize="16" VerticalAlignment="Center" Foreground="White"/>
        </Canvas>

        <!-- Signature and Logo at the Bottom Right -->
        <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" Margin="116,0,282,25" Height="20" Grid.Column="2">
            <TextBlock Text="Developed by Packaging team © 2024 Optum Pvt Ltd" FontSize="12" Foreground="White" Width="386" RenderTransformOrigin="0.284,0.55"/>
            <Image Source="Images/Optum.png" Height="20" Width="142" VerticalAlignment="Center"/>
        </StackPanel>
    </Grid>
</Window>
